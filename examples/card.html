<style>
body {
	font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}
article {
	display: grid;
	position: relative;
	overflow: hidden;
	
	color: #fff;
	margin: 5px;
	padding: 1rem;
}
img {
	position: absolute;
	z-index: -1;
}
marquee {
	display: inline-block;
	max-width: 300px;
}
</style>

<body>


<script src="../src/indomitable.js"></script>
<script>

// https://codepen.io/darrylyeo/pen/bmgvGz?editors=0011

const $view = h`
	<h2>Project: @title! @random</h2>
	<main @main>
		<article>
			<img src:@imgsrc>
			<span>Comments: @comments</span>
			<div @div></div>
			<a href:@url target:@>View Project</a>
			@input
			<pre>@x + @y = ${() => x + y}</pre>
			${() => 1 + 2}
		</article>
	</main>
`
document.body.appendChild($view)

const refs = $view.refs
console.log(refs)

// const {title, comments, url} = refs
// title.nodeValue = 'Busy Buzzy Bee!'
// comments.nodeValue = 123

const state = $view.state
state.title = 'Busy Buzzy Bee'
state({
	x: 1,
	y: 2,
	comments: 100,
	url: 'https://darryl-yeo.com',
	imgsrc: 'https://picsum.photos/600/400'
})

// setInterval(() => state.x++, 1000)

const whee = h`<marquee>Bloink</marquee>`
setInterval(() => {
	state.random = [
		undefined,
		'',
		'Whee',
		h`Yay`,
		whee,
		[h`One`, h`<s>two</s>`, h`<b>three</b>`]
	][Math.random() * 5 | 0]
}, 500)

</script>

</body>